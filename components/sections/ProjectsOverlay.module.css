/* ProjectsOverlay.module.css */

/* 1. Main Overlay Wrapper */
.overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: auto;
    /* Enable clicks */
    background: transparent;
}

/* 2. Transition SVG (Black Wave) */
.waveSvg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
}

/* 3. Scroll Container (Critical for GSAP Scroller) */
.content {
    position: absolute;
    inset: 0;
    z-index: 2;
    width: 100%;
    height: 100vh;
    background: transparent;
    /* Background provided by SVG */

    /* ENABLE SCROLLING */
    overflow-y: auto;
    overflow-x: hidden;

    /* Scrollbar Styling */
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
    display: flex;
    flex-direction: column;
}

.content::-webkit-scrollbar {
    width: 6px;
}

.content::-webkit-scrollbar-track {
    background: transparent;
}

.content::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 20px;
}

/* 4. Layout Container */
.container {
    padding-top: 8rem;
    /* Space for close button */
    padding-bottom: 4rem;
    width: 100%;
    min-height: 100%;
    /* Allows content to expand */
    display: flex;
    flex-direction: column;
}

/* 5. Typography - Premium Dark Mode Style */
.title {
    font-family: 'Inter', sans-serif;
    /* Assuming Inter or system font */
    font-size: clamp(3rem, 8vw, 8rem);
    font-weight: 800;
    color: #ffffff;
    margin: 0 0 0.5rem 5vw;
    line-height: 0.9;
    letter-spacing: -0.04em;
    opacity: 0.9;
}

.subtitle {
    font-family: 'Inter', sans-serif;
    color: rgba(255, 255, 255, 0.5);
    font-size: clamp(1rem, 2vw, 1.25rem);
    margin: 0 0 4rem 5.5vw;
    font-weight: 400;
    letter-spacing: 0.02em;
    max-width: 400px;
    line-height: 1.5;
}

/* 6. Close Button - Floating Glass */
.closeBtn {
    position: fixed;
    top: 2.5rem;
    right: 2.5rem;
    width: 3.5rem;
    height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: center;

    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    color: #fff;
    cursor: pointer;
    z-index: 50;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.closeBtn:hover {
    background: #fff;
    color: #000;
    transform: scale(1.1) rotate(90deg);
    border-color: #fff;
}

/* 7. Horizontal Scroll Section */
.horizontalWrapper {
    width: 100%;
    /* Desktop: 100vh for pinned scroll */
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    overflow: hidden;
    flex-shrink: 0;
}

.horizontalStrip {
    display: flex;
    gap: 6vw;
    padding: 0 5vw;
    width: max-content;
    height: 60vh;
    align-items: center;
    will-change: transform;
    cursor: grab;
}

.horizontalStrip:active {
    cursor: grabbing;
}

/* 8. Project Cards */
.projectCard {
    width: 30vw;
    max-width: 500px;
    min-width: 320px;
    height: 45vh;
    min-height: 400px;
    position: relative;
    flex-shrink: 0;
    cursor: pointer;
    perspective: 1000px;
    user-select: none;
    /* Prevent text selection during drag */
}

/* RESPONSIVE OVERRIDES */
@media (max-width: 767px) {
    .container {
        padding-top: 5.5rem;
        padding-bottom: 2rem;
        justify-content: flex-start;
    }

    .title {
        font-size: 2.5rem;
        margin-left: 1.5rem;
        margin-bottom: 0.5rem;
    }

    .subtitle {
        font-size: 0.9rem;
        margin-left: 1.6rem;
        margin-bottom: 1.5rem;
    }

    .horizontalWrapper {
        height: auto;
        min-height: 50vh;
        margin-top: 0;
        align-items: flex-start;
        overflow: visible;
    }

    .horizontalStrip {
        height: auto;
        gap: 1.5rem;
        padding: 0 1.5rem;
        padding-bottom: 4rem;
        flex-direction: column;
        /* Stack cards vertically on mobile if preferred, or keep row for horizontal scroll. User said "nav bar buttons shrink into hamburger", "images... streched vertically", "hud... go down the image". Usually carousel on mobile is okay, but "scrooldown button" removal might imply vertical flow? 
        Actually, the user complaint is "images set it looks like they streched vertically... huds... go down the image". 
        If I keep horizontal strip, `flex-direction` should stay row. But Draggable is used.
        Let's keep horizontal scroll but fix the CARD layout itself. */
        width: auto;
        /* Let it flow */
    }

    .projectCard {
        width: 85vw;
        /* Wider card */
        max-width: none;
        height: auto;
        /* Allow height to fit content */
        min-height: 0;
        margin-bottom: 1rem;
    }

    /* Reset layout transforms */
    .layout-up,
    .layout-down,
    .layout-middle {
        transform: translateY(0) !important;
    }

    .cardInner {
        display: flex;
        flex-direction: column;
        /* Stack Image + Text */
        height: auto;
        background: transparent;
        /* Remove container bg to let overlay sit nicely or keep it if we want card look */
        box-shadow: none;
        overflow: visible;
        /* Allow content to flow */
    }

    .cardInner img {
        width: 100%;
        height: auto;
        aspect-ratio: 4/3;
        /* Fixed aspect ratio */
        border-radius: 12px;
        object-fit: cover;
        margin-bottom: 1rem;
    }

    /* Override shapes for uniform mobile look */
    .shape-pill .cardInner,
    .shape-circle .cardInner,
    .shape-rect .cardInner {
        border-radius: 0;
    }

    .shape-pill .cardInner img,
    .shape-circle .cardInner img,
    .shape-rect .cardInner img {
        border-radius: 12px;
        aspect-ratio: 4/3;
    }

    .cardOverlay {
        position: static;
        /* Flow naturally below image */
        transform: none;
        opacity: 1;
        padding: 0;
        background: none;
        align-items: flex-start;
        text-align: left;
        min-height: auto;
    }

    .year {
        font-size: 0.75rem;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 0.25rem;
    }

    .itemTitle {
        font-size: 1.5rem;
        color: #fff;
    }
}

/* Card Layout Staggering */
.layout-up {
    transform: translateY(-40px);
}

.layout-down {
    transform: translateY(40px);
}

.layout-middle {
    transform: translateY(0);
}

/* Card Shapes */
.shape-pill .cardInner {
    border-radius: 100px;
}

.shape-circle .cardInner {
    border-radius: 50%;
    aspect-ratio: 1;
    height: auto;
}

.shape-rect .cardInner {
    border-radius: 24px;
}

.cardInner {
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: relative;
    background: #1a1a1a;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.6s ease;
}

.projectCard:hover .cardInner {
    transform: scale(0.96);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}

.cardInner img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1), filter 0.8s ease;
    opacity: 0.8;
}

.projectCard:hover img {
    transform: scale(1.15);
    opacity: 0.6;
    filter: blur(2px) grayscale(50%);
}

/* Card Text Overlay */
.cardOverlay {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 2rem;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.4s ease;
}

.projectCard:hover .cardOverlay {
    opacity: 1;
    transform: translateY(0);
}

.year {
    font-size: 0.85rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 0.5rem;
    display: block;
}

.itemTitle {
    font-size: 2rem;
    font-weight: 700;
    color: #fff;
    line-height: 1.1;
}

/* 9. Project Detail Overlay (When clicked) */
.projectDetailOverlay {
    position: fixed;
    inset: 0;
    z-index: 10000;
    pointer-events: auto;
}

.projectWaveSvg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    pointer-events: none;
}

/* Detail Content */
.projectDetail {
    position: absolute;
    inset: 0;
    z-index: 2;
    width: 100%;
    height: 100%;
    background: transparent;
    /* White wave covers underneath */
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}

.projectBackBtn {
    position: fixed;
    top: 2.5rem;
    left: 2.5rem;
    width: 3.5rem;
    height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000;
    color: #fff;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    z-index: 50;
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.projectBackBtn:hover {
    transform: scale(1.1);
}

.projectGrid {
    display: grid;
    grid-template-columns: 45% 55%;
    min-height: 100vh;
    background: #fff;
    /* Detail view is LIGHT themed */
}

.projectImageSection {
    position: sticky;
    top: 0;
    height: 100vh;
    background: #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 3rem;
}

.projectImageWrap {
    width: 100%;
    height: 80vh;
    border-radius: 16px;
    overflow: hidden;
    position: relative;
}

.projectImageWrap img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.projectInfoSection {
    padding: 6rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.projectHeader {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 3rem;
    border-bottom: 2px solid #f0f0f0;
    padding-bottom: 2rem;
}

.projectNumber {
    font-size: 8rem;
    font-weight: 800;
    color: #f0f0f0;
    line-height: 0.8;
}

.projectTitle {
    font-size: 3.5rem;
    font-weight: 800;
    color: #000;
    margin-bottom: 1.5rem;
    line-height: 1.1;
}

.projectDescription {
    font-size: 1.2rem;
    color: #555;
    line-height: 1.7;
    margin-bottom: 4rem;
    max-width: 90%;
}

.projectDetails {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 3rem;
    margin-bottom: 4rem;
}

.detailLabel {
    display: block;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: #999;
    margin-bottom: 0.75rem;
}

.detailValue {
    font-size: 1.1rem;
    font-weight: 500;
    color: #000;
}

.tagsSection {
    margin-bottom: 4rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.tag {
    padding: 0.5rem 1.25rem;
    border: 1px solid #e5e5e5;
    border-radius: 100px;
    font-size: 0.85rem;
    color: #666;
}

.primaryBtn {
    background: #000;
    color: #fff;
    border: none;
    padding: 1.25rem 2.5rem;
    border-radius: 100px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    align-self: flex-start;
    transition: transform 0.3s ease;
}

.primaryBtn:hover {
    transform: translateY(-4px);
}

/* Responsive */
@media (max-width: 1024px) {
    .projectGrid {
        grid-template-columns: 1fr;
    }

    .projectImageSection {
        position: relative;
        height: auto;
        padding: 2rem;
        aspect-ratio: 16/9;
    }

    .projectImageWrap {
        height: 100%;
    }

    .projectInfoSection {
        padding: 3rem 2rem;
    }
}